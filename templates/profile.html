{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'game/style/profile.css' %}">
<div class="container">
  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="avatar-upload">
      <div class="avatar-edit">
        {{ form.image }}
        <label for="imageUpload"></label>
      </div>
      <div class="avatar-preview">
        <div id="imagePreview" style="background-image: url(https://static.vecteezy.com/system/resources/previews/002/275/816/original/cartoon-avatar-of-smiling-beard-man-profile-icon-vector.jpg);">
        </div>
      </div>
    </div>
    <div class="field">
      Name {{ form.name }}
    </div>
    <div class="field">
      Persona {{ form.persona }}
    </div>
    <div class="field">
      Appearance {{ form.appearance }}
    </div>
    <button type="submit" class="save">Play</button>
  </form>
</div>

<script type="text/javascript" src="https://code.jquery.com/jquery-1.7.1.min.js"></script>
<script>
  function readURL(input) {
      if (input.files && input.files[0]) {
          var reader = new FileReader();
          reader.onload = function(e) {
              $('#imagePreview').css('background-image', 'url('+e.target.result +')');
              $('#imagePreview').hide();
              $('#imagePreview').fadeIn(650);
          }
          reader.readAsDataURL(input.files[0]);
      }
  }
  $("input").change(function() {
      readURL(this);
  });
</script>